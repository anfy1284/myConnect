# MyConnect Client

–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ MyConnect –¥–ª—è Windows. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –ø–∞–∫–µ—Ç—ã —Å –ø–æ–º–æ—â—å—é –¥—Ä–∞–π–≤–µ—Ä–∞ WinDivert –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

*   Windows 10 –∏–ª–∏ 11 (x64)
*   Python 3.8+
*   –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (–¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥—Ä–∞–π–≤–µ—Ä–∞ WinDivert)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–ª–∏–µ–Ω—Ç–∞:
    ```bash
    cd client
    ```
2.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python:
    ```bash
    pip install -r requirements.txt
    ```
3.  **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ WinDivert**:
    *   –°–∫–∞—á–∞–π—Ç–µ WinDivert 2.2.0+ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://github.com/basil00/Divert/releases).
    *   –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤.
    *   –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã `WinDivert.dll`, `WinDivert.sys` –∏ `WinDivert64.sys` (–∏–∑ –ø–∞–ø–∫–∏ `x64`) –≤ –∫–æ—Ä–µ–Ω—å –ø–∞–ø–∫–∏ `client` (—Ä—è–¥–æ–º —Å `main.py`).

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–§–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–π–∫–∏: `config.json`

```json
{
    "server_url": "ws://localhost:8765", // –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (ws:// –∏–ª–∏ wss://)
    "client_token": "client1_token",     // –í–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
    "client_name": "client1",            // –í–∞—à–µ –∏–º—è (–¥–æ–ª–∂–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–æ–º)
    "filters": [
        {
            "name": "Redirect Google DNS",
            // –§–∏–ª—å—Ç—Ä WinDivert. –°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é WinDivert –¥–ª—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞.
            // –ü—Ä–∏–º–µ—Ä: –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏—Å—Ö–æ–¥—è—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ 8.8.8.8
            "windivert_filter": "outbound and ip.DstAddr == 8.8.8.8",
            "target_client": "deutschland" // –ò–º—è –∫–ª–∏–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å
        }
    ],
    "proxy_mode": true,         // –†–µ–∂–∏–º –ø—Ä–æ–∫—Å–∏ (–ø–æ–∫–∞ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏)
    "log_file": "client.log",   // –§–∞–π–ª –ª–æ–≥–∞
    "log_retention_days": 3     // –°—Ä–æ–∫ —Ö—Ä–∞–Ω–µ–Ω–∏—è –ª–æ–≥–æ–≤
}
```

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å —Ñ–∏–ª—å—Ç—Ä–æ–≤ WinDivert
–§–∏–ª—å—Ç—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—á–µ–Ω—å —Ç–æ—á–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫. –ü—Ä–∏–º–µ—Ä—ã:
*   –í–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π TCP –Ω–∞ –ø–æ—Ä—Ç 80: `outbound and tcp.DstPort == 80`
*   –¢—Ä–∞—Ñ–∏–∫ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP: `outbound and ip.DstAddr == 93.184.216.34`
*   –ò—Å–∫–ª—é—á–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫: `outbound and !loopback`

## –ó–∞–ø—É—Å–∫

–ó–∞–ø—É—Å—Ç–∏—Ç–µ `main.py`. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.

```bash
python main.py
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º —Ç—Ä–µ–µ –ø–æ—è–≤–∏—Ç—Å—è –∏–∫–æ–Ω–∫–∞:
*   üî¥ **–ö—Ä–∞—Å–Ω–∞—è**: –°–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞.
*   üü¢ **–ó–µ–ª–µ–Ω–∞—è**: –°–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ç—Ä–µ–π**:
*   **Start**: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º.
*   **Stop**: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç.
*   **Exit**: –í—ã–π—Ç–∏ –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å–Ω–∏–º–∞–µ—Ç –≤—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã).

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

*   **–û—à–∏–±–∫–∞ "WinDivert files missing"**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `.dll` –∏ `.sys` —Ñ–∞–π–ª—ã –ª–µ–∂–∞—Ç –≤ –æ–¥–Ω–æ–π –ø–∞–ø–∫–µ —Å `main.py`.
*   **–ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `server_url` –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞. –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ TLS, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≤–∞–ª–∏–¥–Ω—ã.
*   **–¢—Ä–∞—Ñ–∏–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç**: –í–æ–∑–º–æ–∂–Ω–æ, —É–¥–∞–ª–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç (`target_client`) –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∏–ª–∏ –Ω–µ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `client.log`.
